/**
 * Archetype Compatibility Matrix - Single Source of Truth
 * 12原型兼容性矩阵 - 统一数据源
 * 
 * Scores range from 0 to 100:
 * 90-100: 最佳搭档 (Best Matches - complementary personalities)
 * 70-89: 好搭档 (Good Matches - compatible with chemistry)
 * 50-69: 可搭档 (Moderate Matches - can work but may need adjustment)
 * 30-49: 需要磨合 (Challenging Matches - different vibes, requires effort)
 * 0-29: 差异较大 (Difficult Matches - very different energies)
 */

export const ALL_ARCHETYPES = [
  '开心柯基',   // High energy, warm & extroverted
  '太阳鸡',     // High energy, optimistic & expressive
  '夸夸豚',     // High energy, affirming & supportive
  '机智狐',     // High energy, clever & observant
  '淡定海豚',   // Medium energy, calm & intuitive
  '织网蛛',     // Medium energy, thoughtful & connector
  '暖心熊',     // Medium energy, nurturing & protective
  '灵感章鱼',   // Medium energy, creative & expressive
  '沉思猫头鹰', // Low energy, analytical & thoughtful
  '定心大象',   // Low energy, stable & grounded
  '稳如龟',     // Very low energy, steady & peaceful
  '隐身猫',     // Very low energy, introspective & observant
] as const;

export type ArchetypeName = typeof ALL_ARCHETYPES[number];

/**
 * Compatibility matrix (symmetric)
 * Calibrated for wider score distribution (30-95+ range)
 * Complementary pairs boosted, energy-mismatched pairs adjusted
 */
export const compatibilityMatrix: Record<string, Record<string, number>> = {
  '开心柯基': {
    '开心柯基': 82,
    '太阳鸡': 95,
    '夸夸豚': 90,
    '机智狐': 85,
    '淡定海豚': 75,
    '织网蛛': 70,
    '暖心熊': 88,
    '灵感章鱼': 78,
    '沉思猫头鹰': 48,
    '定心大象': 55,
    '稳如龟': 35,
    '隐身猫': 40,
  },
  '太阳鸡': {
    '开心柯基': 95,
    '太阳鸡': 85,
    '夸夸豚': 92,
    '机智狐': 82,
    '淡定海豚': 72,
    '织网蛛': 68,
    '暖心熊': 85,
    '灵感章鱼': 80,
    '沉思猫头鹰': 52,
    '定心大象': 60,
    '稳如龟': 42,
    '隐身猫': 45,
  },
  '夸夸豚': {
    '开心柯基': 90,
    '太阳鸡': 92,
    '夸夸豚': 80,
    '机智狐': 75,
    '淡定海豚': 78,
    '织网蛛': 82,
    '暖心熊': 95,
    '灵感章鱼': 80,
    '沉思猫头鹰': 72,
    '定心大象': 68,
    '稳如龟': 65,
    '隐身猫': 70,
  },
  '机智狐': {
    '开心柯基': 85,
    '太阳鸡': 82,
    '夸夸豚': 75,
    '机智狐': 78,
    '淡定海豚': 80,
    '织网蛛': 88,
    '暖心熊': 72,
    '灵感章鱼': 92,
    '沉思猫头鹰': 85,
    '定心大象': 65,
    '稳如龟': 50,
    '隐身猫': 75,
  },
  '淡定海豚': {
    '开心柯基': 75,
    '太阳鸡': 72,
    '夸夸豚': 78,
    '机智狐': 80,
    '淡定海豚': 82,
    '织网蛛': 88,
    '暖心熊': 90,
    '灵感章鱼': 85,
    '沉思猫头鹰': 78,
    '定心大象': 82,
    '稳如龟': 72,
    '隐身猫': 80,
  },
  '织网蛛': {
    '开心柯基': 70,
    '太阳鸡': 68,
    '夸夸豚': 82,
    '机智狐': 88,
    '淡定海豚': 88,
    '织网蛛': 75,
    '暖心熊': 85,
    '灵感章鱼': 90,
    '沉思猫头鹰': 82,
    '定心大象': 80,
    '稳如龟': 72,
    '隐身猫': 78,
  },
  '暖心熊': {
    '开心柯基': 88,
    '太阳鸡': 85,
    '夸夸豚': 95,
    '机智狐': 72,
    '淡定海豚': 90,
    '织网蛛': 85,
    '暖心熊': 80,
    '灵感章鱼': 82,
    '沉思猫头鹰': 78,
    '定心大象': 85,
    '稳如龟': 75,
    '隐身猫': 82,
  },
  '灵感章鱼': {
    '开心柯基': 78,
    '太阳鸡': 80,
    '夸夸豚': 80,
    '机智狐': 92,
    '淡定海豚': 85,
    '织网蛛': 90,
    '暖心熊': 82,
    '灵感章鱼': 78,
    '沉思猫头鹰': 88,
    '定心大象': 70,
    '稳如龟': 65,
    '隐身猫': 80,
  },
  '沉思猫头鹰': {
    '开心柯基': 48,
    '太阳鸡': 52,
    '夸夸豚': 72,
    '机智狐': 85,
    '淡定海豚': 78,
    '织网蛛': 82,
    '暖心熊': 78,
    '灵感章鱼': 88,
    '沉思猫头鹰': 80,
    '定心大象': 92,
    '稳如龟': 88,
    '隐身猫': 90,
  },
  '定心大象': {
    '开心柯基': 55,
    '太阳鸡': 60,
    '夸夸豚': 68,
    '机智狐': 65,
    '淡定海豚': 82,
    '织网蛛': 80,
    '暖心熊': 85,
    '灵感章鱼': 70,
    '沉思猫头鹰': 92,
    '定心大象': 78,
    '稳如龟': 90,
    '隐身猫': 88,
  },
  '稳如龟': {
    '开心柯基': 35,
    '太阳鸡': 42,
    '夸夸豚': 65,
    '机智狐': 50,
    '淡定海豚': 72,
    '织网蛛': 72,
    '暖心熊': 75,
    '灵感章鱼': 65,
    '沉思猫头鹰': 88,
    '定心大象': 90,
    '稳如龟': 82,
    '隐身猫': 95,
  },
  '隐身猫': {
    '开心柯基': 40,
    '太阳鸡': 45,
    '夸夸豚': 70,
    '机智狐': 75,
    '淡定海豚': 80,
    '织网蛛': 78,
    '暖心熊': 82,
    '灵感章鱼': 80,
    '沉思猫头鹰': 90,
    '定心大象': 88,
    '稳如龟': 95,
    '隐身猫': 85,
  },
};

export function getArchetypeCompatibility(primaryArchetype: string, targetArchetype: string): number {
  return compatibilityMatrix[primaryArchetype]?.[targetArchetype] ?? 50;
}

export function getTopCompatibleArchetypes(primaryArchetype: string, limit: number = 5) {
  const compatibility = compatibilityMatrix[primaryArchetype];
  if (!compatibility) return [];

  return ALL_ARCHETYPES
    .filter((arch) => arch !== primaryArchetype)
    .map((arch) => ({
      archetype: arch,
      score: compatibility[arch],
    }))
    .sort((a, b) => b.score - a.score)
    .slice(0, limit);
}

export function getCompatibilityCategory(score: number): string {
  if (score >= 90) return '最佳搭档';
  if (score >= 70) return '好搭档';
  if (score >= 50) return '可搭档';
  if (score >= 30) return '需要磨合';
  return '差异较大';
}

export interface ChemistryResult {
  archetype: string;
  percentage: number;
  reason: string;
}

export function getChemistryForArchetype(primaryArchetype: string, topN: number = 3): ChemistryResult[] {
  const compatibility = compatibilityMatrix[primaryArchetype];
  if (!compatibility) return [];

  return getTopCompatibleArchetypes(primaryArchetype, topN).map(({ archetype, score }) => ({
    archetype,
    percentage: score,
    reason: getCompatibilityDescription(primaryArchetype, archetype),
  }));
}

/**
 * Xiaoyue-style compatibility descriptions (100-150 Chinese chars)
 * 小悦风格的化学反应描述
 * 
 * Character voice: 狡黠温暖的都市狐狸
 * - 俏皮中带真诚，损友式关心
 * - 用"嘛/呗/啦/咯"、"诶/哎呀/得了吧"、"其实吧/说真的/不骗你"
 */
export const ARCHETYPE_COMPATIBILITY_DESCRIPTIONS: Record<string, Record<string, string>> = {
  "开心柯基": {
    "太阳鸡": "哎呀你俩凑一起那可真是双倍快乐制造机中的战斗机啊！一个蹦跶着散发热情像小太阳一样到处照耀，一个打鸣着传递正能量把整个场子都点燃得热乎乎的。不过说真的偶尔也得有人踩踩刹车嘛，不然嗨过头第二天躺平三天恢复不过来的也是你俩咯，记得适度哦。",
    "夸夸豚": "豚子那张嘴说好话不要钱的风格简直绝了，刚好你这种小太阳就超级吃这套嘛！被夸的时候尾巴摇得飞起来，整个人都在发光闪闪惹人爱。不过记得也要真诚地夸回去哦，人家那么用心看见你的好，你也得让对方感受到被欣赏被重视的感觉呗。",
    "暖心熊": "熊宝那温柔劲儿正好稳稳接住你蹦跶完累得不行的疲惫感。你负责在外面闹腾着散发快乐让大家都开心，人家负责在后方默默收拾残局顺便给你揉揉头充充电补充能量。这种组合嘛一个放电一个充电，简直是社交能量的完美无缺循环系统啦。",
    "机智狐": "你俩凑一块儿就是氛围组和脑洞组的超级豪华联名款啊！狐子负责出点子想策略提供智慧支持，你负责冲锋执行把场面搞热让大家都嗨起来，配合起来那画面绝对精彩得很。就是别玩太嗨把正事都忘在脑后了，毕竟咱们都是成年人了对吧。",
    "淡定海豚": "海豚那个稳简直是专治你这种跳脱活泼性格的良药啊。你热情如火蹦跶不停欢乐无限的时候，人家就像定海神针一样稳稳帮你稳住节奏，让你的快乐能维持更久更健康。有这么个靠谱搭子在，闹腾完还能体面收场不至于翻车出糗呢。",
    "织网蛛": "蛛子那个细腻心思真是绝了，能把你的满腔热情变成靠谱的行动计划落地执行。你负责点燃现场氛围让大家都嗨起来进入状态，人家负责让这把火烧对地方产生实际效果。配合得好的话再难的事儿都能热热闹闘地办成，这默契可不是谁都有的呢。",
    "灵感章鱼": "章鱼那些天马行空的脑洞配上你超强的行动力和执行能力，这可是能搞大事情的神仙组合啊！你负责把人家那些奇奇怪怪的想法落地执行变成现实，场面绝对有意思得很。就是别嫌人家想太多太慢哈，创意型选手需要点时间发酵才能出好东西的。",
    "沉思猫头鹰": "诶这个组合其实挺有意思的你仔细想想。你蹦跶着散发快乐的时候猫头鹰在旁边安静思考默默观察，一动一静形成了超级可爱的反差萌。不过说真的要给人家留点安静独处的空间嘛，不是每个人都能跟你一样一直嗨下去不停歇的呀。",
    "定心大象": "大象那种稳重可靠的气质刚好给你这个活力四射的小疯子兜底呢。你跑太快玩太嗨控制不住的时候人家拉你一把，让你不至于冲过头摔跟头。这是挺好的平衡感真的，就是要耐心点哈人家节奏确实比你慢一些，别嫌弃要学会欣赏咯。",
    "稳如龟": "说实话这对搭配确实需要双方都努力用心磨合一下的。你可能嫌人家太慢太安静不够热闘，人家可能嫌你太闹太跳脱静不下来。但如果能互相理解学会欣赏对方的不同之处，这种反差组合反而能擦出意想不到的火花呢值得尝试。",
    "隐身猫": "猫猫可能被你的热情程度吓到过好几次，毕竟人家天生喜欢安静嘛这很正常，不过千万别灰心！你那种温暖如果能调低一点音量放慢一点节奏，其实是很治愈的存在呢。给人家足够的适应时间和空间，慢慢来说不定能解锁一段意外温暖的友谊。",
  },
  "太阳鸡": {
    "开心柯基": "你俩在一起那叫一个热闹得不行简直炸场！双倍正能量直接让现场气氛拉满到顶峰，走到哪儿都是行走的快乐制造机无敌存在。不过偶尔也得有人当当刹车片嘛，不然嗨到飞起来落地的时候可能得躺三天才能恢复过来呗注意休息哦。",
    "夸夸豚": "两个正能量怪物级选手碰一块儿这场面，简直是行走的心灵鸡汤工厂超级治愈啊！你负责输出阳光和热情温暖周围每个人，豚子负责把你的好全都真诚地夸出来让大家都看见，这种正向循环谁能不爱呢。记得别让甜腻度超标就行嘛适度最好。",
    "暖心熊": "熊宝的温柔刚好给你的阳光加个柔光滤镜让光芒更柔和，不那么刺眼但依然很暖和很舒服。你负责照亮整个场子的气氛让大家都开心起来，人家负责让在场每个人都觉得舒服自在没有压力。这种组合嘛又热闹又温馨，谁不想待着呢。",
    "机智狐": "狐子那个机灵劲儿配上你的正能量真的是绝配，遇到什么问题困难都能笑着巧妙解决掉。一个负责出主意想办法提供智慧支持，一个负责加油打气鼓舞士气提升氛围，这战斗力翻倍的节奏谁挡得住啊。就是别光顾着开心忘了把事情真正落实哈。",
    "淡定海豚": "海豚那稳定的情绪简直是你最好的避风港湾让你可以安心休息。你一直高功率输出阳光也会累的嘛谁都不是铁打的，有个地方能让你卸下防备歇一会儿喘口气，其实是非常重要的补给站呗。在那儿你可以不用一直发光，就是放松做自己。",
    "灵感章鱼": "章鱼那些奇奇怪怪的创意特别需要你这种积极热情的回应啊！你的鼓励能让人家更敢于大胆表达那些不着边际的想法，而那些新奇独特视角也能让你的快乐更有层次感和深度内涵。双赢的关系嘛互相成就各自精彩，这才是好搭档。",
    "织网蛛": "蛛子那规划能力刚好能帮你把满腔热情变成实实在在的事儿落地执行。你光喊加油是没用的得有人帮你把激情落地对吧。这种搭配妙就妙在既务实又不失热情，能把梦想和执行力完美结合在一起产生真正的价值成果呢。",
    "沉思猫头鹰": "猫头鹰那深度思考刚好给你的阳光加点内涵厚度让快乐更有意义。你照亮人家偶尔的阴天低落时刻带来温暖，人家给你的快乐找个扎实的根基和深层意义。这种互补其实挺好的，让彼此的生活都更丰富完整更有质感呢。",
    "定心大象": "大象那沉稳气质给你的正能量找个稳固锚点让快乐能够持续更久更有底气。不是光靠热情就能撑场子的嘛还得有点稳定的根基支撑对吧。有这样靠谱的搭子在，你的阳光更持久也更踏实，不会是空中楼阁那种虚的。",
    "稳如龟": "龟龟可能觉得你有时候太闹了一些需要安静一下，但你的阳光确实能温暖人家安静的旅途带来光明。关键是耐心嘛学会欣赏慢节奏生活的美好，你完全能做到的。给彼此一点时间适应磨合，会发现不同节奏也能和谐共处呢。",
    "隐身猫": "猫猫需要的是温和柔软的光芒那种细水长流的温暖，不是太阳直射那种强烈刺眼的强度。把你的亮度稍微调低一点点让温暖更柔和，你的好意就不会让人家想躲进角落里了。慢慢来嘛这事真的急不得，让对方按自己节奏慢慢靠近。",
  },
  "夸夸豚": {
    "暖心熊": "诶嘿两个给予型选手同场竞技这阵容太强了，那温暖值简直要溢出屏幕感染到所有人啦！你负责真诚地夸赞对方的好让人家开心，人家负责细腻地关心你的感受给你温暖，这种互相滋养的关系模式谁看了不羡慕得要命啊。在你们身边待着就觉得世界都变温柔了。",
    "开心柯基": "柯基那可爱活泼劲儿给你提供了多少夸赞的素材啊简直取之不尽！而你那真诚到不行的赞美也让人家更加自信闪闪发光魅力四射。这种互夸循环一旦走起来，幸福感直线上升停不下来咯，简直是双倍快乐的源泉让人羡慕呢。",
    "太阳鸡": "双倍正能量警告这组合太猛了！你俩在一起简直是行走的治愈系节目组到哪都受欢迎。一个负责真心实意地夸让人开心，一个负责开开心心地笑回应你的好意，把整个场子的氛围都带得暖洋洋的。这组合出门社交谁不想跟你们待在一起啊。",
    "沉思猫头鹰": "猫头鹰那些藏在心里不善表达的优点和才华，就靠你这双善于发现美的眼睛了。你能看见人家自己都没注意到的闪光点并真诚说出来，这对内敛型选手来说简直太珍贵了意义重大。被真诚看见的感觉，能治愈很多隐藏的不自信呢。",
    "隐身猫": "猫猫需要的就是你这种不带压力的安全感让人可以放心做自己。你的赞美温柔不咄咄逼人没有攻击性，让人家能按自己的节奏慢慢卸下防备打开心扉。等对方愿意露出真实面的那一天，你肯定会发现一个宝藏朋友的，耐心等着呗。",
    "稳如龟": "龟龟那种默默坚持从不张扬的样子太让人心疼了，刚好被你那双善于发现的眼睛看见了。你那句真诚的「你真的很棒」对那些闷头努力却很少被认可的人来说，可能比什么都重要呢。这份看见和肯定，是最好的礼物没有之一。",
    "织网蛛": "蛛子那些在后台默默付出的努力和辛苦很少有人注意到，你就是那个让对方终于被看见的人啊。你的真诚夸赞让人家的辛苦付出有了回音和认可，这种被理解的感觉对默默奉献型选手来说太重要了嘛，感谢你那双善于发现的眼睛。",
    "机智狐": "狐子那些灵光一闪的精彩时刻和机智表现，你都用真诚的赞美稳稳接住了。你欣赏人家的机智聪明觉得很厉害，人家也喜欢你的真诚坦率觉得很舒服，这种互相欣赏彼此成就的关系，舒服得很呢是让人想长久维护的好关系。",
    "灵感章鱼": "章鱼那些奇奇怪怪天马行空的想法在别人看来可能很怪，但你是少数能真正理解价值并认真夸出来的人。你的肯定能让创意型选手更敢于大胆表达那些不被理解的灵感，这份温暖鼓励可珍贵了，别小看自己的影响力呢。",
    "淡定海豚": "海豚那种真实坦诚的反馈风格能帮你夸得更精准到位更有价值。而你的温暖认可也让人家愿意多展现自己不同的面向给你看。互相促进嘛越相处越懂彼此，这种关系会越来越深厚有质感的，值得好好经营呢。",
    "定心大象": "大象那沉默寡言的可靠付出很容易被人忽视，需要有人大声说出来让大家知道。你看见人家那些不张扬的努力和坚持，大象也感受到了被理解被认可的温暖，这种默契其实无需多言，懂的人自然懂嘛这就是默契。",
  },
  "机智狐": {
    "灵感章鱼": "哎呀妈呀两个脑洞王级选手碰一块儿这还得了场面太精彩了！你的实用主义落地能力加上章鱼那天马行空的想象力，能碰撞出什么鬼才级别的想法都不奇怪呢。就是别光想不做哈，再好的创意不执行也只是空想而已需要落地的。",
    "织网蛛": "你俩都是策略型高手选手这配置太强了，一个负责长期规划布局看得远，一个负责灵活应变执行处理各种情况，简直是梦幻级别的最强执行团队。做什么项目带上你俩，成功率直接翻倍都不夸张呢，这配合默契度让人羡慕得很。",
    "沉思猫头鹰": "猫头鹰那深度思考能力给你的灵活机变找个稳定的方向感不会跑偏，而你也能帮人家把那些藏在脑子里的想法落地执行变成现实。这种强强联合的脑力组合，硬核程度不是一般搭档能比的呢互相成就互相欣赏。",
    "开心柯基": "柯基那满腔热情给你搭了多大的舞台让你尽情发挥啊！你的机智策略加上人家那无敌行动力和执行能力，场面绝对精彩纷呈让人目不暇接。就是别把人家带偏到奇怪的方向去了哦，毕竟人家单纯着呢要好好珍惜这份信任。",
    "太阳鸡": "鸡那源源不断的正能量配上你的灵活机智真的是绝配，遇到什么困难都能笑着巧妙解决掉轻轻松松。乐观主义加实用智慧这个组合打怪升级简直无压力，困难在你们眼里都是小意思嘛没什么搞不定的。",
    "淡定海豚": "海豚那稳定靠谱的存在就是你最安心的大后方基地让你可以放心探索。你在外面探索折腾搞事情尝试各种可能，知道后方有人稳稳接应兜底，心里踏实多了吧。这种安全感对你这种爱冒险的类型来说，是无价的支撑呢。",
    "暖心熊": "熊宝那温暖包容的气场让你能卸下一直聪明机灵的疲惫感好好休息。在那儿你完全可以不用那么精明那么防备时刻保持警觉，就是放松地做最真实的自己就好了，这种放松的感觉是很珍贵的休息站值得好好珍惜呢。",
    "夸夸豚": "豚子那双眼睛能发现你那些不经意间流露的闪光点并真诚夸出来，而你也很享受这种被真诚看见认可的感觉很舒服。互相欣赏彼此独特之处的关系舒服自在得很呢，是那种让人想长久维持好好经营的好关系。",
    "隐身猫": "你俩都是观察派高手选手眼睛很毒的那种，能在沉默中精准读懂彼此想要表达的意思心领神会。不用多费口舌解释来解释去，一个眼神一个动作就够了那种心有灵犀的默契感，这种懂得可不是跟谁都能培养出来的呢。",
    "定心大象": "大象那沉稳可靠的气质给你一个稳固的锚点，让你不会在探索中飘太远失去方向迷失自己。而你的灵活也能给人家略显平淡的生活加点惊喜和色彩让日子更有趣，这是挺好的互补平衡呢双方都有收获。",
    "稳如龟": "这个搭配确实需要双方都多一点耐心来磨合适应彼此的节奏。龟龟守住底线保持稳定你探索各种可能性开拓新领域，一个稳如泰山一个灵活多变，如果能配合默契了那绝对是很厉害的组合呢值得投入时间去尝试。",
  },
  "淡定海豚": {
    "暖心熊": "诶嘿两个温暖系选手碰一块儿这阵容太治愈了，那治愈能量简直要加倍溢出感染到所有人啊！你的从容淡定加上熊宝的细腻关怀让每个人都觉得被照顾，让在场每个人都能感觉到被温柔照顾着很安心。这种让人安心的组合氛围，谁不想要呢。",
    "织网蛛": "你俩配合起来那默契程度叫一个丝滑顺畅让人羡慕。蛛子负责周密规划考虑周全想得远看得远，你负责稳扎稳打推进执行一步一个脚印，一个想得远一个走得稳。这种信任默契可不是随便哪对搭子都能培养出来的呢。",
    "灵感章鱼": "章鱼那些天马行空不着边际的想法特别需要你这种包容的听众不评判只是接住。你不评判只是接住让人家感觉安全可以放心表达，对方反而更敢表达那些怪点子了。而那些创意视角也给你开了扇新窗户让生活更丰富呢。",
    "开心柯基": "柯基蹦跶完累了找谁充电休息恢复能量？当然是找你这个定海神针级别的搭子啊。你稳住节奏提供安心的港湾让人家可以放松，让人家的热情能够持续更久更健康。这种互补刚刚好彼此都需要对方呢。",
    "机智狐": "你那稳定可靠的存在给狐子的灵活探索提供了一个安全基地让人放心，人家知道有你在后方兜底接应，在外面折腾起来更放心大胆了。这种让人安心的感觉对冒险型选手来说，是无价的支持呢特别重要。",
    "太阳鸡": "鸡那高功率输出的正能量有时候也需要歇一歇充充电恢复一下嘛，你提供的就是那个温柔的港湾让人可以休息。在你这儿不用一直保持阳光灿烂可以卸下面具做真实疲惫的自己，这种接纳很珍贵呢不是谁都能给的。",
    "夸夸豚": "豚子那真诚的赞美让你愿意多展现自己不同面向给对方看，而你那真实坦诚的反馈也帮人家的夸赞更精准更有分量更有价值。互相促进嘛越相处越懂彼此，这种关系会越来越深厚有质感的值得好好经营呢。",
    "沉思猫头鹰": "两个不急不躁的类型相处在一起真的太舒服了，对话虽然少但每句都是精华干货有价值。不需要尬聊来填充空白制造热闘，安静待在一起也舒服得很自在得很。这种不费力的相处模式，是很多人求之不得的呢。",
    "定心大象": "两个稳重派相遇这场面特别让人安心踏实，虽然场面不那么热闹但特别让人安心踏实有底气。你们都知道对方是靠得住不会突然变卦说一套做一套的人，这种互相信任的感觉比什么花哨的表现都珍贵得多呢。",
    "稳如龟": "龟龟那份坚韧不拔和你的从容淡定很搭配简直绝配，都能在喧嚣中保持自己的节奏不被外界轻易带跑迷失自己。在一起能互相欣赏彼此这份难得的定力和坚持，是懂得对方价值的关系呢好好珍惜。",
    "隐身猫": "两个低调派凑在一起社交压力全无啊太舒服了。不需要表演不需要刻意迎合谁讨好谁，就做最真实的自己就完全够了没有任何压力。这种无需伪装的舒适感多难得啊，好好珍惜这种轻松自在的关系呢。",
  },
  "织网蛛": {
    "灵感章鱼": "嘿章鱼那些散乱到处飞的创意灵感和奇思妙想到你手里就神奇地变成可执行方案了！你就是那个把天马行空的想法稳稳落地变成现实的魔法师，创意型选手做梦都想要你这样靠谱的搭子呢，你真的很珍贵的不要低估自己。",
    "淡定海豚": "海豚那稳定靠谱的执行力让你精心制定的规划能真正实现落地产生价值。你想得周全考虑各种情况把方方面面都想到了，人家推进得稳扎稳打一步一个脚印，这种黄金搭配做什么项目都让人放心得很呐。",
    "机智狐": "两个策略型高手碰一块儿那效率简直爆表让人惊叹，啧啧。你负责规划全局制定路线把控大方向，狐子负责灵活应变处理突发情况解决各种问题，遇到什么问题都能巧妙化解轻松搞定，这配合度让人羡慕呢。",
    "暖心熊": "熊宝那温暖贴心给你那些冷冰冰的计划加了人情味儿让人更容易接受。你负责把事情安排得明明白白清清楚楚，人家负责把人心照顾得舒舒服服妥妥当当，这种配合让事情推进得顺畅多了呢效率也高。",
    "沉思猫头鹰": "两个深思熟虑的类型凑在一起思考问题真的太周全了，制定的方案那叫一个周全到没漏洞滴水不漏。动手执行之前把所有可能的情况都考虑完了做好准备，这种谋定后动的稳赢策略，是你们的专属技能呢。",
    "定心大象": "大象那稳如泰山的执行力给你的规划找到了最可靠的执行者让你放心。长期项目有你俩这对组合准能按时按质完成不带打折的，这种靠谱程度就是最大的竞争力嘛让人信任让人放心合作。",
    "开心柯基": "柯基那满腔热情给你周密的计划增添了活力和感染力让事情更有意思，而你强大的组织能力让人家那些蹦跶的能量有了明确方向不会乱跑。互相成就嘛让彼此都变得更好更完整，这才是好搭档呢。",
    "太阳鸡": "鸡那源源不断的正能量让推进计划的过程变得愉快多了不那么枯燥。再苦再累的活有人在旁边鼓劲儿打气加油，干起来也不觉得那么累了对吧，这种陪伴是很好的润滑剂呢让工作更有动力。",
    "夸夸豚": "豚子让你那些默默付出的努力终于被看见被认可了，那些辛苦终于有了真诚的回音和认可让你觉得值得。你也能帮人家把随性的赞美系统化更有章法更有效果，这种双赢的互助关系挺好的呢。",
    "稳如龟": "龟龟那超强持久力让你的长期计划能够坚持到最后不半途而废功亏一篑。需要马拉松式长跑的项目，有这个搭子在你就彻底放心了，对方不会中途放弃你们共同的目标会一直陪你走下去。",
    "隐身猫": "你们都注重效率和细节把控对工作都很认真负责，不需要多废话磨合就能高效配合起来开始干活。这种默契做事的爽快感觉懂的人都懂，是很难得的工作伙伴默契呢好好珍惜这种配合吧。",
  },
  "暖心熊": {
    "夸夸豚": "两个给予型选手相遇在一起简直是温暖值爆表的神仙组合让人羡慕！你细心照顾人家的感受关心对方的需求，人家真诚夸赞你的付出让你感到被看见，这种正向循环让在场每个人都觉得被温柔对待着。这画面谁看了不酸呢。",
    "淡定海豚": "海豚那份从容淡定让你的关怀更自然不刻意没有压力感，不会给人太大压力让人想逃跑。你俩在一起营造出来那种安心舒适的氛围特别治愈，谁不想多待一会儿啊，是让人想一直浸泡着的温暖小世界呢。",
    "开心柯基": "柯基那蹦跶不停的活力需要你这样温暖的人来接住啊特别需要！人家在外面消耗完能量累了疲惫了，你的温暖就是最好的充电宝让对方恢复元气重新出发。一个放电一个充电简直是能量循环绝配呢。",
    "灵感章鱼": "章鱼那些奇奇怪怪的想法需要你这种包容的听众啊不会被评判的那种。你不嫌人家想太多太天马行空太不切实际，反而觉得有趣愿意认真听下去，这份理解和接纳对创意型选手来说太珍贵太治愈了呢。",
    "太阳鸡": "鸡那阳光灿烂加上你的温暖柔和简直是绝配，双倍治愈力直接拉满让人舒服啊！你俩在一起营造的氛围既热闹有活力又让人觉得舒服放松没压力，谁不喜欢这种既嗨又暖的感觉呢太棒了。",
    "织网蛛": "蛛子那些精心制定的规划有你加持就有了人情味儿更容易被人接受。冷冰冰的执行计划变得温暖可亲更容易被接受执行推进，这功劳你得占一半呢是你让事情变得有温度的让人愿意配合。",
    "定心大象": "两个稳重温暖型选手凑一起那可靠程度直接拉满让人安心。不管发生什么天大的事情遇到什么困难，有你俩在场就觉得没什么搞不定的问题都能解决，这种安全感是最好的定心丸呢。",
    "机智狐": "狐子那颗一直运转的聪明脑袋有时候也需要歇歇放放空休息一下。在你这儿可以不用时刻保持机警灵活随时应对，就是彻底放松地做最普通的自己就好了，你给的是难得的喘息空间呢。",
    "沉思猫头鹰": "猫头鹰需要的就是你这种让人安心的安全感啊可以放心敞开心扉。在你温暖的包围下可以慢慢打开心扉说那些平时不敢说的深藏的想法。能让内敛型选手愿意开口表达，你很厉害呢这是你的天赋。",
    "稳如龟": "龟龟那默默坚持从不抱怨的样子太让人心疼了，你是懂的能理解那份坚持的不容易。你的温暖给人家那条孤独坚持的路加了温度，让旅途不那么孤单冷清。有人懂那种沉默的努力，是最好的陪伴。",
    "隐身猫": "猫猫需要的是不咄咄逼人没有压力的温暖那种细水长流的关心，而刚好你就是这种类型呢。你不催不急让人家按自己舒服的节奏来不强求，这种尊重式的温暖太治愈了让人想靠近呢。",
  },
  "灵感章鱼": {
    "机智狐": "两个脑洞王相遇那场面思维火花四溅精彩得很啊让人目不暇接！你负责天马行空输出各种奇思妙想创意无限，狐子帮你把那些想法落地变成可执行的东西产生实际价值，这搭配能整出多少有意思的项目啊让人期待。",
    "织网蛛": "蛛子简直是你的天赐灵魂搭档梦寐以求的那种！你那些散乱到处飞的想法到人家手里就神奇地变成可执行方案了。创意要落地产生价值变成现实，必须有对方这种规划型选手帮忙太重要了呢。",
    "沉思猫头鹰": "两个思考型选手碰一块儿一个负责发散联想一个负责深入挖掘，能产生的洞见比一般人深刻多了有深度有内涵。这种高质量智识交流的过程过瘾得很呢，是思维的盛宴让人享受其中停不下来。",
    "淡定海豚": "海豚那包容接纳的态度让你敢放心说那些听起来很怪的想法不怕被评判。人家不评判只是认真倾听给你安全感，这种安全感对需要自由表达的创意人来说太重要太珍贵了谢谢对方呢。",
    "暖心熊": "熊宝那温暖怀抱接住你所有的奇思妙想不管多怪多离谱都觉得有趣愿意听下去。被这样无条件理解接纳的感觉超幸福超治愈的让人感动，是创意人最需要的心灵港湾呢好好珍惜。",
    "太阳鸡": "鸡那积极正面的回应让你更有勇气表达那些不太主流的想法敢于说出来啊！你说什么人家都热情鼓励支持给你信心，这种正向反馈能让你的创意源源不断冒出来停都停不住呢。",
    "夸夸豚": "豚子能在你那些奇怪想法里发现真正的价值并真诚夸出来让你被看见，这对需要认可的创作者来说简直太重要了意义重大。被懂行的人看见并肯定的感觉很美好呢让人有动力继续创作。",
    "开心柯基": "柯基那超强行动力刚好弥补你想太多做太少的毛病让想法能落地。你负责源源不断输出点子提供创意，人家负责雷厉风行执行落地变成现实，场面精彩又有成果这配合相当得呢。",
    "隐身猫": "你俩都有各自独特丰富的内心世界不是表面那种肤浅，能在那些小众非主流的话题上找到深度共鸣理解彼此。真正懂你那些想法的人不多对方算一个很珍贵的存在呢，要好好珍惜这份难得的理解呢。",
    "定心大象": "大象那稳定可靠的存在给你的创意找个安全的落脚点让你可以休息。天马行空飞太久之后总得回地面休息调整对吧，人家就是那个让你安心着陆的靠谱着陆场呢随时欢迎你回来。",
    "稳如龟": "龟龟那超常的耐心给你的创意足够的时间去发酵成熟变得更完善。好想法真的不用急着变现产出赶时间，慢慢来反而可能结果更好更成熟更有价值，你们都懂这个让时间帮忙的道理呢。",
  },
  "沉思猫头鹰": {
    "定心大象": "诶两个内敛型选手相遇那种心有灵犀的默契不用说话都能互相懂真的太舒服。不需要尬聊来填充空白避免尴尬制造热闹，安安静静待在一起也很舒服很好很自在。这种稀缺的相处模式，要珍惜啊不是谁都能给的。",
    "隐身猫": "两个安静型碰一块儿终于可以不用假装会应酬那一套了！沉默在你们之间不尴尬反而很舒服，做最真实的自己就好不用伪装成外向的样子，这种自在舒适感太难得了好好享受这份轻松吧。",
    "稳如龟": "龟龟那超常耐心配上你的深度思考真的是绝配，能产生最有分量最扎实的交流有深度有内涵。不催不急慢慢聊按自己节奏来，每一句都是思考过的干货有价值，这种高质量对话很珍贵呢别人求都求不来。",
    "灵感章鱼": "章鱼那发散的创意加上你的深度沉淀一个负责广度一个负责深度，能产生的洞见是别人想不到的独特视角有深度有新意。这种智识碰撞的快感刺激又过瘾呢，是思维的盛宴让人享受其中。",
    "机智狐": "狐子那灵活的表达能力帮你那些藏在脑子里的想法更容易说出来让人理解，而你的深度思考也给人家一个值得探索的方向有意义。互补得很好呢彼此都有收获，这种配合让人羡慕。",
    "织网蛛": "蛛子那规划能力能把你的想法变成可行的落地计划让想法变成现实。你负责深度思考输出真知灼见提供方向，人家负责规划执行落地推进，这种分工让事情能真正推进产生成果呢。",
    "暖心熊": "熊宝那温暖让你感觉到前所未有的安全感可以放心敞开心扉，可以慢慢表达那些深藏在心底的想法不怕被评判。在那儿完全不用伪装做最真实的自己就好了，这种放松的感觉很珍贵呢。",
    "夸夸豚": "豚子那双眼睛能看见你那些不善表达的内在优点并真诚说出来让你被看见。被理解被看见的感觉对内敛不爱表现的你来说太珍贵太难得了，是很好的情感滋养呢让人觉得被重视。",
    "淡定海豚": "海豚那份从容配上你的深思熟虑两个不急躁的人在一起相处起来特别舒服自在。对话虽然节奏慢但每一句都是经过思考的精华有价值，质量远比数量重要嘛这种交流才有意义。",
    "开心柯基": "柯基那温暖的热情能温柔地打开你的话匣子让你愿意多说两句表达自己，而你的深度思考让对话更有价值更有意义不是表面寒暄。反差组合磨合好了也能很和谐呢值得尝试。",
    "太阳鸡": "鸡那阳光能照亮你偶尔低落的阴天让心情好起来给你温暖，不过记得也给人家一点安静空间休息一下，毕竟你需要独处来充电恢复能量的嘛互相理解呢这样才能长久。",
  },
  "定心大象": {
    "沉思猫头鹰": "两个沉稳派相遇那种可靠感直接翻倍让人特别安心踏实有底气。不需要多余的话来证明什么表现什么，彼此都知道对方是靠得住可以信赖的人不会让人失望。这种深厚的信任感别人羡慕都羡慕不来。",
    "稳如龟": "你俩都是长跑型实力选手这配置太稳了，是能一起坚持到终点不抛弃不放弃的那种搭子。遇到再大困难都不轻易退缩放弃，互相支持着一步一步往前走。这靠谱联盟的含金量杠杠的呢。",
    "隐身猫": "你俩都不爱喧嚣热闹的场面更喜欢安静，能在安静中找到舒适的相处方式不会觉得无聊。不用刻意迎合对方做自己就完全好了没有压力。这种低维护高舒适度的关系省心省力又真实呢。",
    "暖心熊": "两个稳重温暖型选手凑一起那可靠程度直接拉满谁不想靠近呢。不管发生什么情况遇到什么困难，有你俩在场就觉得安心了一大半问题都能解决，你们是人群里最让人放心的存在呢。",
    "淡定海豚": "两个稳定派碰一块儿虽然节奏比较慢但特别踏实让人安心有底气。你们都知道对方是不会突然变卦说一套做一套的人值得信赖，这种互相信任的感觉比什么都珍贵呢好好珍惜。",
    "织网蛛": "蛛子那周密规划配上你稳健的执行力这配置太强了，长期项目有你俩这组合简直稳了不用担心。按部就班一步步推进准能高质量完成目标，这种踏实感就是最大的竞争力呢让人信任。",
    "灵感章鱼": "你那稳定可靠给章鱼那些天马行空的创意提供一个安全的落脚点让人放心。再怎么自由飞翔最终都要着陆休息的嘛需要一个基地，你就是那个最靠谱的着陆场让人安心呢随时欢迎。",
    "机智狐": "狐子那灵活多变给你略显平稳的生活加点惊喜和新鲜感让日子更有趣，而你的沉稳可靠给人家一个锚点不至于在探索中飘太远失去方向迷失自己。这种互补挺好的平衡得当呢。",
    "夸夸豚": "豚子能看见你那沉默寡言背后的付出并大声说出来让大家知道你的好，这种被认可的感觉对默默努力从不张扬的你来说是非常重要的情感回报呢让人觉得值得。",
    "开心柯基": "柯基那活力四射能偶尔唤醒你内心深处的童趣和玩心让你也开心起来，跟着蹦跶一下放松放松也挺好的嘛调节一下。给平稳的生活加点色彩让日子不那么单调呢。",
    "太阳鸡": "鸡那阳光灿烂给你的沉稳可靠加点明亮色彩让你的好更容易被看见，让你的好不显得太闷太无聊更有魅力。而你也让人家那些快乐有了更扎实的根基不是空中楼阁呢。",
  },
  "稳如龟": {
    "隐身猫": "诶嘿两个安静型碰一块儿那叫一个舒服自在太合拍了！不用假装外向活泼不用尬聊填充空白制造热闹，就安安静静待在一起做自己喜欢的事就很好了很满足。这种难得的宁静组合好好珍惜呀。",
    "定心大象": "两个长跑型实力选手在一起那份坚韧不拔的劲儿直接加倍让人佩服。遇到再难的事情都不会轻易退缩放弃，知道对方会一直陪着自己走到终点不离不弃。这种相互信任的感觉是无价的支持呢。",
    "沉思猫头鹰": "猫头鹰那深度思考配上你的超常耐心真的是绝配，能产生最有分量最扎实的对话交流有深度有价值。不催不急按自己节奏慢慢聊聊出来的都是实打实的真东西干货，这种质量很珍贵呢。",
    "淡定海豚": "海豚那份从容淡定配上你的坚韧持久简直绝配，都能在浮躁的环境里保持自己的节奏不被外界轻易带跑迷失自己。在一起能互相欣赏彼此这份难得的定力和坚持，是懂得对方价值的关系呢。",
    "暖心熊": "熊宝那份温暖给你那条默默坚持的路加了温度让你不孤单，让旅途不再那么孤单冷清有人陪伴。有人真正懂你那种沉默的努力并认可它，这种被理解的感觉挺好的是很好的陪伴呢。",
    "织网蛛": "蛛子那周密规划配上你超强的执行力和持久力这配置太稳了，需要长期坚持才能完成的事情有你俩绝对准能成功。你们都不是轻易放弃的人，这份坚持本身就是最大的优势呢。",
    "夸夸豚": "豚子能看见你默默坚持从不张扬的样子并给予真诚认可让你被看见，这对不爱表现自己的你来说太珍贵太难得了意义重大。被看见被肯定的感觉暖暖的，是很好的情感滋养呢。",
    "灵感章鱼": "你那份超常耐心给章鱼那些创意足够的时间去发酵成熟变得更完善。好想法真的不用急着变现产出赶时间，慢慢来反而结果更好更完善更有价值，你们都懂得让时间帮忙的道理呢。",
    "机智狐": "这个搭配确实需要双方都多一份互相理解的耐心来磨合适应。狐子负责探索各种可能性开拓新领域你负责守住基本底线保持稳定，一个灵活多变一个稳如泰山，配合好了绝对是很厉害的组合。",
    "开心柯基": "柯基那满腔热情能给你那条默默坚持的路增添一些色彩和活力让日子更有趣，而你的稳定从容也能让人家学会什么叫细水长流持久经营。互相学习互相成长嘛这才是好搭档。",
    "太阳鸡": "鸡那阳光灿烂温暖着你不紧不慢前行的路途给你光明，虽然节奏不同但完全可以互相欣赏对方的生活方式学习对方的优点。慢一点也是一种值得尊重的生活态度啊各有各的好。",
  },
  "隐身猫": {
    "稳如龟": "两个安静型相遇终于可以不用假装会应酬那一套了太解放了！你俩在一起可以安心做最真实的自己不用伪装，不说话也完全不尴尬反而很舒服。这种舒适自在的感觉太难得了，要好好珍惜这份轻松呢。",
    "沉思猫头鹰": "两个内敛派碰一块儿那种默契真的不用多说话都能互相理解心有灵犀。在沉默中静静欣赏彼此的存在感受对方的陪伴，不需要解释什么证明什么自然而然就懂。懂的人自然都懂嘛这种理解很珍贵呢。",
    "定心大象": "大象那份稳重给你满满的安全感让你可以放心做自己，不会突然闹腾吓到你让你想躲起来逃跑。在那儿可以彻底放松地做自己不用伪装成外向的样子讨好谁，这种接纳让人很安心呢。",
    "淡定海豚": "海豚懂得给你足够的空间和距离感不会靠太近让你有压力，不会强迫你表现出你不擅长的样子迎合别人。这种没有压力的陪伴让你感觉最舒适，终于遇到懂你需要什么的人了很幸运呢。",
    "暖心熊": "熊宝那份温暖不咄咄逼人没有侵略性让人感觉安全，让你能按自己舒服的节奏慢慢打开心扉展示真实的自己。在那儿可以卸下那些防备的壳做真实的自己，这种被温柔对待的感觉很难得值得珍惜呢。",
    "夸夸豚": "豚子那真诚的赞美让你感到被理解被看见很温暖，慢慢地愿意展现更多真实的自己给对方看信任对方。被安全温和地肯定着没有压力，这种感觉舒服得很呢是很好的情感滋养呢。",
    "灵感章鱼": "你俩都有各自独特丰富的内心世界不是表面那种肤浅，能在那些非主流小众的话题上找到深度共鸣理解彼此懂得彼此。真正懂你那些想法的人不多对方是一个，这种连接很珍贵呢。",
    "织网蛛": "蛛子懂得尊重你需要个人空间这件事不会过度打扰，不会过度热情地打扰你的独处时光让你不自在。在安静的默契中完成各自的事情互不干扰，这种高效又舒适的配合方式很合你胃口吧。",
    "机智狐": "你俩都是观察派高手眼睛很毒的那种，能在沉默中精准读懂彼此想要表达的意思心领神会。不用多费口舌解释来解释去一个眼神一个动作就够了那种默契感，挺好的相处模式呢。",
    "开心柯基": "柯基那份热情如果调低一点点音量放慢一点节奏，其实不会让你感到太大压力想逃跑的。给人家一个机会让对方学会用你舒服的方式相处，可能会有意外的惊喜呢值得尝试。",
    "太阳鸡": "鸡那份阳光如果温和一点不那么强烈刺眼，反而能给你一个安全温暖的光亮让你感觉舒服。不是所有热情都会刺眼让人想躲的可以试试看接受适度的温暖，可能会喜欢上呢。",
  },
};

export function getCompatibilityDescription(userArchetype: string, partnerArchetype: string): string {
  const userMap = ARCHETYPE_COMPATIBILITY_DESCRIPTIONS[userArchetype];
  if (userMap && userMap[partnerArchetype]) {
    return userMap[partnerArchetype];
  }
  
  return `${partnerArchetype}与你在社交风格上互补，能带来不一样的社交体验和视角。这种组合可以让你们互相学习共同成长，在社交场合中发挥各自的优势，创造出独特的化学反应和美好的回忆呢。`;
}
